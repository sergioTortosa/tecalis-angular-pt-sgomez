{"ast":null,"code":"import { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { StoreService } from '../services/store.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/store.service\";\nexport let StoreManager = /*#__PURE__*/(() => {\n  class StoreManager {\n    constructor(storeService) {\n      this.storeService = storeService;\n    }\n\n    getAllStores() {\n      if (!this.stores$) {\n        this.stores$ = this.storeService.getStores().pipe(map(response => response.results), shareReplay(1));\n      }\n\n      return this.stores$;\n    }\n\n    getStoreDetails(id) {\n      return this.storeService.getStoreById(id);\n    }\n\n    getGameDetails(id) {\n      return this.storeService.getGameById(id);\n    }\n\n    getGamesForStore(storeId) {\n      return this.getAllStores().pipe(map(stores => {\n        const store = stores.find(store => store.id === storeId);\n\n        if (!store) {\n          throw new Error(`Store with ID ${storeId} not found`);\n        }\n\n        return store.games;\n      }));\n    }\n\n  }\n\n  StoreManager.ɵfac = function StoreManager_Factory(t) {\n    return new (t || StoreManager)(i0.ɵɵinject(i1.StoreService));\n  };\n\n  StoreManager.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: StoreManager,\n    factory: StoreManager.ɵfac\n  });\n  return StoreManager;\n})();","map":null,"metadata":{},"sourceType":"module"}